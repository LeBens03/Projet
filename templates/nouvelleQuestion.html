{% extends "base.html" %}


{% block content %}

<div class="columns">
    <div class="column">
        <h3 class="title">Editeur</h3>
        <form action="" method="POST">
            <div class="field">
                <label class="label">{{ form.enonce.label }}</label>
                <div class="control">
                    {{ form.enonce(class="input", placeholder="Saisir l'énoncé de votre question") }}
                </div>
            </div>
            <div id="reponseText">
                <p>reponse a la question</p>
                <input type="texte" name="prop[]">
            </div>
            <script>
                reponsetext=1 //quand passe de 1 à 0 on supprime reponseText quand on passe de 0 à 1 on rajoute reponseText 
                function reponsetextdel(){ // quand on click ajouter proposition on suprime la reponse text et on compte le nombre proposition ajouter
                    if(reponsetext==1){
                        document.getElementById("reponseText").innerHTML="<p></p>"
                    }
                    reponsetext-=1
                    console.log(reponsetext)
                }
                function reponsetextadd(){ // quand on suprime une proposition on compte le nombre de proposition suprimer et quand il y en'a plus on rajoute la reponse text
                    reponsetext+=1
                    console.log(reponsetext)
                    if(reponsetext==1){
                        document.getElementById("reponseText").innerHTML='<p>reponse a la question</p><br><input type="texte" name="prop[]">'
                    }
                }
            </script>

            <div class="field">
                <div id="inputsWrapper">
                    <p><button class="button " id="add_button" name="add_button" type="button" value="" onclick="reponsetextdel()">Ajouter Proposition</button></p>
                </div>
            </div>

            <div class="field">
            <label class="label">{{ form.etiquettes.label }}</label>
                <div class="select is-multiple ">
                    {{ form.etiquettes }} 
                </div>
            </div>

            <div class="field">
                <label class="label">{{ form.etiquette(class="input", placeholder="Saisir l'etiquette à rajouter") }}</label>
                <div class="control">
                    <button class="button" type="submit" formaction="/ajoutEtiquette" >Ajouter Etiquette</button>
                </div>
            </div>

            <div class="control is-centered">
                <div class="buttons is-centered">
                    {{ form.submit(class="button is-link") }}
                </div>
            </div>                
        </form>
    </div>
    <div class="column">
        <h3 class="title">Visualisateur</h3>
        <div class="field">
            <label class="label">{{ form.enonce.label }}</label>
            <div class="box">
                <p id="enonce-output"></p>
            </div>
        </div>
        <div class="field">
            <label class="label">Propositions</label>
            <label class="checkbox" id="propositions">
            </label>
        </div>
        <div class="field">
            <label class="label">Etiquettes</label>
            <div id="etiquette-display">
            </div>
        </div>
    </div>
</div>
{% endblock %}
            